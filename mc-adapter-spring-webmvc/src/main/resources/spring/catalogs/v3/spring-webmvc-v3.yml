catalogName: "spring-webmvc"
entries:
  - scope: "project"
    prototype: "Application"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/Application.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/Application.java"
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/ApplicationIT.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/ApplicationTests.java"

  - scope: "project"
    prototype: "Text"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/resources/ApplicationDotProperties.ftl"
        destination: "{{appModule}}/src/main/resources/application.properties"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/resources/ApplicationTestDotYaml.ftl"
        destination: "{{appModule}}/src/test/resources/application-test.yaml"
      - facet: "main"
        sourceTemplate: "/spring/common/main/resources/ValidationMessages.ftl"
        destination: "{{appModule}}/src/main/resources/ValidationMessages.properties"


  - scope: "project"
    prototype: "Text"
    feature: "liquibase"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/resources/db/liquibase/db.changelog-master.ftl"
        destination: "{{appModule}}/src/main/resources/db/changelog/db.changelog-master.yaml"
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/resources/db/liquibase/db.changelog-001-create-schema.ftl"
        destination: "{{appModule}}/src/main/resources/db/changelog/db.changelog-001-create-schema.sql"




  - scope: "project"
    prototype: "ExceptionHandler"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/advice/GlobalExceptionHandler.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/advice/GlobalExceptionHandler.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/advice/GlobalExceptionHandlerTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/advice/GlobalExceptionHandlerTests.java"

  - scope: "project"
    prototype: "Exception"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/exception/UnprocessableEntityException.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/exception/UnprocessableEntityException.java"
      - facet: "main"
        sourceTemplate: "/spring/common/main/exception/ResourceNotFoundException.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/exception/ResourceNotFoundException.java"
      - facet: "main"
        sourceTemplate: "/spring/common/main/exception/BadRequestException.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/exception/BadRequestException.java"

  - scope: "project"
    prototype: "SpringProfiles"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/common/SpringProfiles.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/common/SpringProfiles.java"

  - scope: "project"
    prototype: "ApplicationConfiguration"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/config/ApplicationConfiguration.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/config/ApplicationConfiguration.java"

  - scope: "project"
    prototype: "DateTimeFormatConfiguration"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/config/DateTimeFormatConfiguration.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/config/DateTimeFormatConfiguration.java"

  - scope: "project"
    prototype: "ProblemConfiguration"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/config/ProblemConfiguration.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/config/ProblemConfiguration.java"

  - scope: "project"
    prototype: "WebMvcConfiguration"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/config/WebMvcConfiguration.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/config/WebMvcConfiguration.java"

  - scope: "project"
    prototype: "LocalDateConverter"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/config/LocalDateConverter.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/config/LocalDateConverter.java"
      - facet: "test"
        sourceTemplate: "/spring/common/test/config/LocalDateConverterTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/config/LocalDateConverterTests.java"

  - scope: "project"
    prototype: "CustomSQLRepository"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/CustomSQLRepository.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/CustomRepository.java"

  - scope: "project"
    prototype: "GenericDataStore"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/GenericDataStore.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/GenericDataStore.java"

  - scope: "project"
    prototype: "SecurityResponseHeadersFilter"
    tags: "security:headers"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/filter/SecurityResponseHeadersFilter.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/filter/SecurityResponseHeadersFilter.java"

  - scope: "project"
    prototype: "SecureRandomSeries"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/math/SecureRandomSeries.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/math/SecureRandomSeries.java"
      - facet: "test"
        sourceTemplate: "/spring/common/test/math/SecureRandomSeriesTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/math/SecureRandomSeriesTests.java"

  - scope: "project"
    prototype: "ResourceIdSupplier"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/spi/ResourceIdSupplier.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/spi/ResourceIdSupplier.java"

  - scope: "project"
    prototype: "ResourceIdTrait"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/trait/ResourceIdTrait.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/trait/ResourceIdTrait.java"

  - scope: "project"
    prototype: "AlphabeticAnnotation"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/validation/Alphabetic.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/Alphabetic.java"

  - scope: "project"
    prototype: "AlphabeticValidator"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/validation/AlphabeticValidator.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/AlphabeticValidator.java"
      - facet: "test"
        sourceTemplate: "/spring/common/test/validation/AlphabeticValidatorTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/validation/AlphabeticValidatorTests.java"

  - scope: "project"
    prototype: "OnCreate"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/validation/OnCreate.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/OnCreate.java"

  - scope: "project"
    prototype: "OnUpdate"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/validation/OnUpdate.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/OnUpdate.java"

  - scope: "project"
    prototype: "ResourceIdAnnotation"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/validation/ResourceId.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/ResourceId.java"

  - scope: "project"
    prototype: "ResourceIdValidator"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/validation/ResourceIdValidator.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/ResourceIdValidator.java"
      - facet: "test"
        sourceTemplate: "/spring/common/test/validation/ResourceIdValidatorTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/validation/ResourceIdValidatorTests.java"

  - scope: "project"
    prototype: "SearchTextAnnotation"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/validation/SearchText.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/SearchText.java"

  - scope: "project"
    prototype: "SearchTextValidator"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/common/main/validation/SearchTextValidator.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/validation/SearchTextValidator.java"
      - facet: "test"
        sourceTemplate: "/spring/common/test/validation/SearchTextValidatorTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/validation/SearchTextValidatorTests.java"

  - scope: "project"
    prototype: "ContainerConfiguration"
    facets:
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/config/ContainerConfiguration.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/config/ContainerConfiguration.java"

  - scope: "project"
    prototype: "RegisterDatabaseProperties"
    facets:
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/database/RegisterDatabaseProperties.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/database/RegisterDatabaseProperties.java"

  - scope: "project"
    prototype: "Text"
    facets:
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/resources/CreateSchemaDotSql.ftl"
        destination: "{{appModule}}/src/integrationTest/resources/create-schema.sql"

  - scope: "project"
    prototype: "RootController"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/endpoint-root/RootController.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/endpoint/root/RootController.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/endpoint-root/RootControllerTest.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/endpoint/root/RootControllerTest.java"
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/endpoint-root/RootControllerIT.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/endpoint/root/RootControllerIT.java"
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/endpoint-root/RootExceptionHandlingIT.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/endpoint/root/RootExceptionHandlingIT.java"

  - scope: "project"
    prototype: "RootService"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/endpoint-root/RootService.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/endpoint/root/RootService.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/endpoint-root/RootServiceTest.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/endpoint/root/RootServiceTest.java"

  - scope: "project"
    prototype: "AbstractIntegrationTest"
    facets:
      - facet: "integrationTest"
        sourceTemplate:  "/spring/webmvc/integrationTest/common/AbstractIntegrationTest.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/common/AbstractIntegrationTest.java"

  - scope: "project"
    prototype: "DataStoreApi"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/spi/DataStore.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/spi/DataStore.java"

  # ---------------------------------------------------------------------------------------------------
  # Endpoint artifacts
  # ---------------------------------------------------------------------------------------------------

  - scope: "endpoint"
    prototype: "Entity"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/entity/Entity.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{ejbName}}.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/database/EntityTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}EntityTests.java"
      - facet: "testFixtures"
        sourceTemplate: "/spring/webmvc/testFixtures/database/WebMvcEjbTestFixtures.ftl"
        destination: "{{appModule}}/src/testFixtures/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}EntityTestFixtures.java"

  - scope: "endpoint"
    prototype: "ObjectDataStore"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/entity/ObjectDataStore.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}DataStore.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/database/DataStoreTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}DataStoreTests.java"


  - scope: "endpoint"
    prototype: "ObjectDataStoreProvider"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/entity/ObjectDataStoreProvider.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}DataStoreProvider.java"

  - scope: "endpoint"
    prototype: "EntityToPojoConverter"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/converter/EntityToPojoConverter.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/converter/{{entityName}}EntityToPojoConverter.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/database/converter/EntityToPojoConverterTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/converter/{{entityName}}EntityToPojoConverterTests.java"

  - scope: "endpoint"
    prototype: "EntityWithText"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/predicate/EntityWithText.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/predicate/{{entityName}}WithText.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/database/predicate/EntityWithTextTest.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/predicate/{{entityName}}WithTextTest.java"

  - scope: "endpoint"
    prototype: "EntityResource"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/domain/EntityResource.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/domain/{{pojoName}}.java"
      - facet: "textFixtures"
        sourceTemplate: "/spring/webmvc/testFixtures/domain/WebMvcModelTestFixtures.ftl"
        destination: "{{appModule}}/src/testFixtures/java/{{basePackagePath}}/domain/{{entityName}}TestFixtures.java"

  - scope: "endpoint"
    prototype: "Repository"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/entity/Repository.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}Repository.java"
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/database/endpoint/RepositoryIT.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/{{entityName}}RepositoryIT.java"

  - scope: "endpoint"
    prototype: "PojoToEntityConverter"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/converter/PojoToEntityConverter.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/converter/{{entityName}}PojoToEntityConverter.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/database/converter/PojoToEntityConverterTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/converter/{{entityName}}PojoToEntityConverterTests.java"

  - scope: "endpoint"
    prototype: "EntityToPojoConverter"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/converter/EntityToPojoConverter.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/converter/{{entityName}}EntityToPojoConverter.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/database/converter/EntityToPojoConverterTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/database/{{lowerCaseEntityName}}/converter/{{entityName}}EntityToPojoConverterTests.java"

  - scope: "endpoint"
    prototype: "Controller"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/endpoint/RestController.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}Controller.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/ControllerTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}ControllerTests.java"

  - scope: "endpoint"
    prototype: "RestServiceInterface"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/endpoint/RestService.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}Service.java"

  - scope: "endpoint"
    prototype: "RestServiceImpl"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/endpoint/RestServiceProvider.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}ServiceProvider.java"
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/ServiceTests.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}ServiceTests.java"
      - facet: "integrationTest"
        sourceTemplate: "/spring/webmvc/integrationTest/endpoint/ServiceIT.ftl"
        destination: "{{appModule}}/src/integrationTest/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}ServiceIT.java"

  - scope: "endpoint"
    prototype: "EntityRoutes"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/endpoint/EntityRoutes.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/{{entityName}}Routes.java"

  - scope: "endpoint"
    prototype: "DatabaseTablePopulator"
    facets:
      - facet: "main"
        sourceTemplate: "/spring/webmvc/main/database/entity/DatabaseTablePopulator.ftl"
        destination: "{{appModule}}/src/main/java/{{basePackagePath}}/database/{{entityName}}/{{entityName}}TablePopulator.java"

  - scope: "endpoint"
    prototype: "ConversionService"
    facets:
      - facet: "test"
        sourceTemplate: "/spring/webmvc/test/FakeConversionService.ftl"
        destination: "{{appModule}}/src/test/java/{{basePackagePath}}/endpoint/{{lowerCaseEntityName}}/FakeConversionService.java"
